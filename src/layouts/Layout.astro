---
import '@/styles/global.css'
import Script from '@/components/Script.astro'
import GlobalLayout from '@/layouts/GlobalLayout.astro'
import MainCard from '@/components/PrincipalCard/MainCard.astro'

interface Props {
  lang: string
  hidden: boolean
  titleSlug: string
  title_main_card: string
}

const { hidden, titleSlug, title_main_card, lang } = Astro.props

const tUi = (await import(`@/locales/${lang}/ui.json`)).default

const url = new URL(Astro.url)
const newLang = lang === 'en' ? 'es' : 'en'

const switchLang = url.pathname.includes(`-${lang}`)
  ? url.pathname.replace(`/${lang}`, `/${newLang}`)
  : url.pathname.replace(`/${lang}`, `/${newLang}`)
---

<!doctype html>
<html lang={lang}>
  <head>
    <title>Franco Montechiani Portfolio Dev | {titleSlug}</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

    <!-- SEO bÃ¡sico -->
    <meta
      name="description"
      content="Portafolio de Franco Montechiani, desarrollador Full Stack especializado en MERN, PERN, Astro y Next.js. Proyectos web profesionales y creativos."
    />
    <meta
      name="keywords"
      content="Franco Montechiani, Portfolio, Full Stack Developer, MERN, PERN, Astro, Next.js, React, Node.js, TypeScript, TailwindCSS"
    />
    <meta name="author" content="Franco Montechiani" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph / Facebook -->
    <meta
      property="og:title"
      content="Franco Montechiani Dev Portfolio | EdenBlood"
    />
    <meta
      property="og:description"
      content="Portafolio de Franco Montechiani, desarrollador Full Stack especializado en MERN, PERN, Astro y Next.js. Proyectos web profesionales y creativos."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://fmontechiani.com/" />
    <meta
      property="og:image"
      content="https://fmontechiani.com/social-preview.jpg"
    />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Franco Montechiani Dev Portfolio | EdenBlood"
    />
    <meta
      name="twitter:description"
      content="Portafolio de Franco Montechiani, desarrollador Full Stack especializado en MERN, PERN, Astro y Next.js. Proyectos web profesionales y creativos."
    />
    <meta
      name="twitter:image"
      content="https://fmontechiani.com/social-preview.jpg"
    />

    <!-- Favicon adicional para Apple -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.jpg" />

    <!-- JSON-LD: Person -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Franco Montechiani",
        "url": "https://fmontechiani.com",
        "sameAs": [
          "https://www.linkedin.com/in/franco-montechiani-a4b343354/",
          "https://github.com/EdenBlood",
          "https://drive.google.com/file/d/1NS2SMBzjOrvC50bErn3hYRS8LozX9CN-/view?usp=drive_link"
        ],
        "jobTitle": "Full Stack Developer",
        "worksFor": {
          "@type": "Organization",
          "name": "Freelance"
        }
      }
    </script>
  </head>

  <body class="text-slate-50 relative">
    <GlobalLayout>
      <div
        class="mx-auto max-w-[95%] lg:w-5xl xl:w-6xl 2xl:w-[1550px] relative flex flex-col lg:flex-row w-full min-h-screen gap-18 lg:gap-12 2xl:gap-18 animate-fade-in-down"
      >
        <MainCard
          url="#contact"
          hidden={hidden}
          title_main_card={title_main_card}
          tUi={tUi}
        />

        <div
          class="w-full lg:flex-1 lg:min-w-0 py-[2.5vh] lg:py-[5vh] relative"
        >
          <slot />
        </div>
      </div>
    </GlobalLayout>
    <a
      href={switchLang}
      class="rounded-full fixed top-5 right-5 size-12 text-slate-50 bg-violet-700 z-50 hover:bg-violet-600 font-bold text-lg transition-colors duration-300 cursor-pointer flex items-center justify-center"
      >{newLang.toUpperCase()}</a
    >
  </body>

  <Script />
</html>
